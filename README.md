# QR-PAYMENT-PHP
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã (—Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É [–ì–û–°–¢ –† 56042‚Äî2014](https://docs.cntd.ru/document/1200110981) –¥–ª—è PHP 7.4+.
–≠—Ç–∏ –∫–æ–¥—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ø–æ—á—Ç–∏ –≤—Å–µ–º–∏ –±–∞–Ω–∫–∞–º–∏ (–≤–∫–ª—é—á–∞—è –°–±–µ—Ä–±–∞–Ω–∫) –∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç –∂–∏–∑–Ω—å –æ–±—ã—á–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ –Ω—É–∂–Ω–æ –≤–±–∏–≤–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –≤—Ä—É—á–Ω—É—é.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞
------------

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑
[Composer](http://getcomposer.org):

```
$ composer require kilylabs/qr-payment-php
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
-----
#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```php
<?php

require __DIR__.'/vendor/autoload.php';

use Kily\Payment\QR\Gost;
use Kily\Payment\QR\Exception as QRException;

$g = new Gost();

$g->setThrowExceptions(true); // –ë—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
$g->setValidateOnSet(false); // –û—Ç–∫–ª—é—á–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ —Éc—Ç–∞–Ω–æ–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏—è (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)

var_dump($g->listRequired());
// –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
//var_dump($g->listAdditional());
// –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
//var_dump($g->listOther());
// –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –¥—Ä—É–≥–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤

$g->Name = '–ò–ü –ë–æ–≥–¥–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á';
$g->PersonalAcc = '40802810700020000317';
$g->BankName = '–û–ê–û –ê–ö–ë ¬´–ê–í–ê–ù–ì–ê–†–î¬ª';
$g->BIC = '044525201';
$g->CorrespAcc = '30101810000000000201';

try {
    $g->validate();

    echo $g->generate();
    // –≤—ã–≤–æ–¥–∏—Ç: ST00012|Name=–ò–ü –ë–æ–≥–¥–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á|PersonalAcc=40802810700020000317|BankName=–û–ê–û –ê–ö–ë ¬´–ê–í–ê–ù–ì–ê–†–î¬ª|BIC=044525201|CorrespAcc=30101810000000000201
    echo $g->render();
    // –≤—ã–≤–æ–¥–∏—Ç QR-–∫–æ–¥ –≤ –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (PNG)
    echo $g->render(false,[
        'imageBase64'=>true,
    ]);
    // –≤—ã–≤–æ–¥–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ base64 (inline)
    // –±–æ–ª—å—à–µ –æ–ø—Ü–∏–π –∑–¥–µ—Å—å: (https://github.com/chillerlan/php-qrcode/wiki/QROptions)
    $g->render("qr.png");
    // —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç QR-–∫–æ–¥ –≤ —Ñ–∞–π–ª
} catch(QRException $e) {
    // something went wrong
    throw $e;
}
```
TODO
-----
- —Å–¥–µ–ª–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Aztec –∏ DataMatrix –∫–æ–¥–æ–≤ (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É –ì–û–°–¢)
- ~—Å–¥–µ–ª–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª–µ–π~
- –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (win1251, koi8-r) –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞

–ö—É–ø–∏—Ç–µ –º–Ω–µ... –∫–æ—Ñ–µ ‚òï
-----
–í—ã –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å –º–Ω–µ –∫–æ—Ñ–µ, –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–≤ QR-–∫–æ–¥, —Å–¥–µ–ª–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ—Ç –∫–æ—Ñ–µ –ø–æ–º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ—á–µ—Ä–µ–¥–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ üòå

![Alt text](examples/coffee_qr.png?raw=true "Optional Title")
